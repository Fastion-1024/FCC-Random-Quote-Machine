(this["webpackJsonprandom-quote-machine"]=this["webpackJsonprandom-quote-machine"]||[]).push([[0],{33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),s=a.n(r),o=a(5),i=a(9),u=a.n(i),l=a(13),d=a(17),h=a(16),j="LOADING",b="ERROR",f="DISPLAY_AUTHORS",O="DISPLAY_TAGS",p="DISPLAY_QUOTE",x="SHOW_SIDEBAR",g="HIDE_SIDEBAR",m="UPDATE_SELECTED_AUTHOR",y="SELECT_FIRST_AUTHOR",A="TOGGLE_TAG",v="TOGGLE_FILTER_BY_AUTHOR",T="TOGGLE_FILTER_BY_TAGS",C="RESET_FILTERS",B="UPDATE_QUOTE_COUNT",k=function(e,t){switch(t.type){case j:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case b:return Object(o.a)(Object(o.a)({},e),{},{error:{hidden:!1,message:t.payload}});case f:return Object(o.a)(Object(o.a)({},e),{},{authors:t.payload,loading:!1});case O:return Object(o.a)(Object(o.a)({},e),{},{tags:t.payload,loading:!1});case p:return Object(o.a)(Object(o.a)({},e),{},{quote:t.payload,loading:!1});case x:return Object(o.a)(Object(o.a)({},e),{},{sideBarHidden:!1});case g:return Object(o.a)(Object(o.a)({},e),{},{sideBarHidden:!0});case m:return Object(o.a)(Object(o.a)({},e),{},{selectedAuthor:t.payload});case y:return Object(o.a)(Object(o.a)({},e),{},{selectedAuthor:e.authors[0].name});case A:var a=e.tags.map((function(e){return e.id===t.payload?{id:e.id,name:e.name,quoteCount:e.quoteCount,checked:!e.checked}:e}));return Object(o.a)(Object(o.a)({},e),{},{tags:a});case v:return Object(o.a)(Object(o.a)({},e),{},{filterByAuthor:!e.filterByAuthor});case T:if(!1===!e.filterByTags){var n=Object(l.a)(e.tags);return n.forEach((function(e){return e.checked=!1})),Object(o.a)(Object(o.a)({},e),{},{filterByTags:!e.filterByTags,tags:n})}return Object(o.a)(Object(o.a)({},e),{},{filterByTags:!e.filterByTags});case C:return Object(o.a)(Object(o.a)({},e),{},{filterByAuthor:!1,filterByTags:!1,selectedAuthor:e.authors[0].name,tags:e.tags.map((function(e){return{id:e.id,name:e.name,quoteCount:e.quoteCount,checked:!1}})),sideBarHidden:!0});case B:var c=0;return c=e.filterByAuthor?e.authors.find((function(t){return t.name===e.selectedAuthor})).quoteCount:e.filterByTags?e.tags.filter((function(e){return e.checked})).reduce((function(e,t){return e+t.quoteCount}),0):e.tags.reduce((function(e,t){return e+t.quoteCount}),0),Object(o.a)(Object(o.a)({},e),{},{quoteCount:c});default:throw new Error("No matching action found!")}},N=a(1),E=c.a.createContext(),q={loading:!1,error:{hidden:!0,message:""},authors:[],selectedAuthor:"",tags:[],quote:{content:"",author:""},sideBarHidden:!0,filterByAuthor:!1,filterByTags:!1,quoteCount:0},S=function(e){var t=e.children,a=Object(n.useReducer)(k,q),c=Object(h.a)(a,2),r=c[0],s=c[1],i=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,c,r,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:j}),e.prev=1,t=1,a=[],n=!1,c=100;case 6:if(n){e.next=18;break}return e.next=9,fetch("https://api.quotable.io/authors?limit=".concat(c,"&page=").concat(t));case 9:return r=e.sent,e.next=12,r.json();case 12:o=e.sent,i=o.results.map((function(e){return{id:e._id,name:e.name,description:e.description,bio:e.bio,quoteCount:e.quoteCount}})),a=[].concat(Object(l.a)(a),Object(l.a)(i)),o.page===o.totalPages?n=!0:t++,e.next=6;break;case 18:s({type:f,payload:a}),s({type:y}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),console.log(e.t0),_("Error When Fetching Authors!");case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:j}),e.prev=1,e.next=4,fetch("https://api.quotable.io/tags");case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,n=a.map((function(e){return{id:e._id,name:e.name,quoteCount:e.quoteCount,checked:!1}})),s({type:O,payload:n}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),_("Error When Fetching Tags!");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.quotable.io/random",r.filterByAuthor?(""===r.selectedAuthor&&_("Error:- No Author Selected!"),t+="?author=".concat(r.selectedAuthor)):r.filterByTags&&(r.tags.some((function(e){return e.checked}))||_("Error:- No Tags Selected!"),t+="?tags=".concat(r.tags.filter((function(e){return e.checked})).map((function(e){return e.name})).join("|"))),s({type:j}),e.prev=3,e.next=6,fetch(t);case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,c=n.content,o=n.author,s({type:p,payload:{content:c,author:o}}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0),_("Error When Fetching Quote");case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),_=function(e){s({type:b,payload:e})};return Object(n.useEffect)((function(){i(),S(),F()}),[]),Object(N.jsx)(E.Provider,{value:Object(o.a)(Object(o.a)({},r),{},{openSidebar:function(){s({type:x}),s({type:B})},closeSidebar:function(){s({type:g})},handleSelectedAuthorChange:function(e){s({type:m,payload:e}),s({type:B})},handleSelectedTagsChange:function(e){s({type:A,payload:e}),s({type:B})},toggleFilterByAuthor:function(){s({type:v}),r.filterByTags&&s({type:T}),s({type:B})},toggleFilterByTags:function(){s({type:T}),r.filterByAuthor&&s({type:v}),s({type:B})},fetchQuote:F,resetFilters:function(){s({type:C}),s({type:B})}}),children:t})},F=function(){return Object(n.useContext)(E)},_=a(8),w=a(10),I=a(11),R=function(){return Object(N.jsxs)("div",{className:"lds-ellipsis",children:[Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{})]})},G=function(){var e=F(),t=e.quote,a=e.fetchQuote,n=e.openSidebar,c=e.loading;return Object(N.jsxs)("section",{id:"quote-box",children:[Object(N.jsxs)("figure",{children:[Object(N.jsx)("blockquote",{className:"blockquote text-center",children:Object(N.jsx)("span",{id:"text",children:c?Object(N.jsx)(R,{}):t.content})}),Object(N.jsx)("figcaption",{id:"author",className:c?"":"blockquote-footer text-end",children:c?"":t.author})]}),Object(N.jsxs)(w.a,{className:"d-flex justify-content-start",children:[Object(N.jsxs)(_.a,{className:"secondary-btn",onClick:n,children:[Object(N.jsx)(I.b,{"aria-hidden":"true",focusable:"false"}),Object(N.jsx)("span",{className:"visually-hidden",children:"Filters"})]}),Object(N.jsxs)(_.a,{id:"tweet-quote",className:"secondary-btn",href:"https://twitter.com/intent/tweet?hashtags=quotes&related=freecodecamp&text="+encodeURIComponent('"'+t.content+'" '+t.author),target:"_blank",children:[Object(N.jsx)(I.c,{"aria-hidden":"true",focusable:"false"}),Object(N.jsx)("span",{className:"visually-hidden",children:"Tweet"})]})]}),Object(N.jsx)(_.a,{id:"new-quote",onClick:a,children:"New Quote"})]})},L=a(7),H=function(){var e=F(),t=e.authors,a=e.selectedAuthor,c=e.handleSelectedAuthorChange,r=e.filterByAuthor,s=e.toggleFilterByAuthor,o=Object(n.useState)("A"),i=Object(h.a)(o,2),u=i[0],l=i[1];return Object(N.jsxs)(L.a,{children:[Object(N.jsx)(L.a.Group,{controlId:"formFilterAuthors",children:Object(N.jsx)(L.a.Check,{checked:r,onChange:s,label:"Filter By Author:",className:"form-switch"})}),Object(N.jsxs)(L.a.Group,{controlId:"formAlphaSelect",children:[Object(N.jsx)(L.a.Label,{children:"Author Initial"}),Object(N.jsx)(L.a.Control,{as:"select",className:"form-select",onChange:function(e){return l(e.target.value)},disabled:!r,children:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map((function(e,t){return Object(N.jsx)("option",{children:e},t)}))})]}),Object(N.jsxs)(L.a.Group,{controlId:"formAuthors",children:[Object(N.jsx)(L.a.Label,{children:"Author Name"}),Object(N.jsx)(L.a.Control,{as:"select",className:"form-select",onChange:function(e){return c(e.target.value)},value:a,disabled:!r,children:t.filter((function(e){return e.name.charAt(0)===u})).map((function(e){var t=e.id,a=e.name;e.quoteCount;return Object(N.jsx)("option",{value:a,children:a},t)}))})]})]})},D=function(){var e=F(),t=e.tags,a=e.handleSelectedTagsChange,n=e.filterByTags,c=e.toggleFilterByTags;return Object(N.jsxs)(L.a,{children:[Object(N.jsx)(L.a.Group,{controlId:"formFilterTags",children:Object(N.jsx)(L.a.Check,{checked:n,onChange:c,label:"Filter By Tags:",className:"form-switch"})}),Object(N.jsx)(L.a.Group,{controlId:"formTags",children:t.map((function(e){var t=e.id,c=e.name;return Object(N.jsx)(L.a.Check,{id:t,type:"checkbox",label:c,checked:e.checked,onChange:function(e){return a(e.target.id)},disabled:!n},t)}))})]})},U=function(){var e=F(),t=e.sideBarHidden,a=e.closeSidebar,n=e.resetFilters,c=e.quoteCount;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"".concat(t?"modal-blur":"modal-blur show-modal-blur")}),Object(N.jsxs)("aside",{className:"".concat(t?"sidebar":"sidebar show-sidebar"),children:[Object(N.jsx)("h2",{className:"sidebar-header",children:"Filters"}),Object(N.jsx)(H,{}),Object(N.jsx)("h3",{children:"Or"}),Object(N.jsx)(D,{}),Object(N.jsxs)("h3",{className:"text-center",children:["Matching Quotes: ",c," "]}),Object(N.jsxs)(w.a,{className:"d-flex justify-content-around filter-controls-container",children:[Object(N.jsxs)(_.a,{className:"secondary-btn",onClick:n,children:[Object(N.jsx)(I.d,{"aria-hidden":"true",focusable:"false"}),Object(N.jsx)("span",{className:"visually-hidden",children:"Reset Filters"})]}),Object(N.jsxs)(_.a,{className:"secondary-btn",onClick:a,children:[Object(N.jsx)(I.a,{"aria-hidden":"true",focusable:"false"}),Object(N.jsx)("span",{className:"visually-hidden",children:"Close Filters"})]})]})]})]})},P=a(23),Q=a(15);var Y=function(){return Object(N.jsxs)("main",{children:[Object(N.jsx)("div",{className:"background"}),Object(N.jsx)(w.a,{className:"full-height",children:Object(N.jsx)(P.a,{className:"d-flex full-height justify-content-center align-items-center",children:Object(N.jsx)(Q.a,{xxl:5,xl:6,lg:6,md:7,sm:8,xs:9,className:"align-self-center",children:Object(N.jsx)(G,{})})})}),Object(N.jsx)(U,{})]})};a(33);s.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(S,{children:Object(N.jsx)(Y,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.1f446fa7.chunk.js.map