(this["webpackJsonprandom-quote-machine"]=this["webpackJsonprandom-quote-machine"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(22),o=n.n(r),s=n(5),u=n(9),i=n.n(u),l=n(13),d=n(17),h=n(16),j="LOADING",b="ERROR",f="DISPLAY_AUTHORS",O="DISPLAY_TAGS",p="DISPLAY_QUOTE",g="SHOW_SIDEBAR",x="HIDE_SIDEBAR",m="UPDATE_SELECTED_AUTHOR",y="SELECT_FIRST_AUTHOR",A="TOGGLE_TAG",T="TOGGLE_FILTER_BY_AUTHOR",C="TOGGLE_FILTER_BY_TAGS",B="RESET_FILTERS",k="UPDATE_QUOTE_COUNT",v=function(e,t){switch(t.type){case j:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case b:return Object(s.a)(Object(s.a)({},e),{},{error:{hidden:!1,message:t.payload}});case f:return Object(s.a)(Object(s.a)({},e),{},{authors:t.payload});case O:return Object(s.a)(Object(s.a)({},e),{},{tags:t.payload});case p:return Object(s.a)(Object(s.a)({},e),{},{quote:t.payload});case g:return Object(s.a)(Object(s.a)({},e),{},{sideBarHidden:!1});case x:return Object(s.a)(Object(s.a)({},e),{},{sideBarHidden:!0});case m:return Object(s.a)(Object(s.a)({},e),{},{selectedAuthor:t.payload});case y:return Object(s.a)(Object(s.a)({},e),{},{selectedAuthor:e.authors[0].name});case A:var n=e.tags.map((function(e){return e.id===t.payload?{id:e.id,name:e.name,quoteCount:e.quoteCount,checked:!e.checked}:e}));return Object(s.a)(Object(s.a)({},e),{},{tags:n});case T:return Object(s.a)(Object(s.a)({},e),{},{filterByAuthor:!e.filterByAuthor});case C:if(!1===!e.filterByTags){var a=Object(l.a)(e.tags);return a.forEach((function(e){return e.checked=!1})),Object(s.a)(Object(s.a)({},e),{},{filterByTags:!e.filterByTags,tags:a})}return Object(s.a)(Object(s.a)({},e),{},{filterByTags:!e.filterByTags});case B:return Object(s.a)(Object(s.a)({},e),{},{filterByAuthor:!1,filterByTags:!1,selectedAuthor:e.authors[0].name,tags:e.tags.map((function(e){return{id:e.id,name:e.name,quoteCount:e.quoteCount,checked:!1}})),sideBarHidden:!0});case k:var c=0;return c=e.filterByAuthor?e.authors.find((function(t){return t.name===e.selectedAuthor})).quoteCount:e.filterByTags?e.tags.filter((function(e){return e.checked})).reduce((function(e,t){return e+t.quoteCount}),0):e.tags.reduce((function(e,t){return e+t.quoteCount}),0),Object(s.a)(Object(s.a)({},e),{},{quoteCount:c});default:throw new Error("No matching action found!")}},E=n(1),q=c.a.createContext(),S={loading:!1,error:{hidden:!0,message:""},authors:[],selectedAuthor:"",tags:[],quote:{content:"",author:""},sideBarHidden:!0,filterByAuthor:!1,filterByTags:!1,quoteCount:0},N=function(e){var t=e.children,n=Object(a.useReducer)(v,S),c=Object(h.a)(n,2),r=c[0],o=c[1],u=function(){var e=Object(d.a)(i.a.mark((function e(){var t,n,a,c,r,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o({type:j}),e.prev=1,t=1,n=[],a=!1,c=100;case 6:if(a){e.next=18;break}return e.next=9,fetch("https://api.quotable.io/authors?limit=".concat(c,"&page=").concat(t));case 9:return r=e.sent,e.next=12,r.json();case 12:s=e.sent,u=s.results.map((function(e){return{id:e._id,name:e.name,description:e.description,bio:e.bio,quoteCount:e.quoteCount}})),n=[].concat(Object(l.a)(n),Object(l.a)(u)),s.page===s.totalPages?a=!0:t++,e.next=6;break;case 18:o({type:f,payload:n}),o({type:y}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),console.log(e.t0),w("Error When Fetching Authors!");case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:j}),e.prev=1,e.next=4,fetch("https://api.quotable.io/tags");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,a=n.map((function(e){return{id:e._id,name:e.name,quoteCount:e.quoteCount,checked:!1}})),o({type:O,payload:a}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),w("Error When Fetching Tags!");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(i.a.mark((function e(){var t,n,a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.quotable.io/random",r.filterByAuthor?(""===r.selectedAuthor&&w("Error:- No Author Selected!"),t+="?author=".concat(r.selectedAuthor)):r.filterByTags&&(r.tags.some((function(e){return e.checked}))||w("Error:- No Tags Selected!"),t+="?tags=".concat(r.tags.filter((function(e){return e.checked})).join("|"))),o({type:j}),e.prev=3,e.next=6,fetch(t);case 6:return n=e.sent,e.next=9,n.json();case 9:a=e.sent,c=a.content,s=a.author,o({type:p,payload:{content:c,author:s}}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0),w("Error When Fetching Quote");case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),w=function(e){o({type:b,payload:e})};return Object(a.useEffect)((function(){u(),N(),_()}),[]),Object(E.jsx)(q.Provider,{value:Object(s.a)(Object(s.a)({},r),{},{openSidebar:function(){o({type:g}),o({type:k})},closeSidebar:function(){o({type:x})},handleSelectedAuthorChange:function(e){o({type:m,payload:e}),o({type:k})},handleSelectedTagsChange:function(e){o({type:A,payload:e}),o({type:k})},toggleFilterByAuthor:function(){o({type:T}),r.filterByTags&&o({type:C}),o({type:k})},toggleFilterByTags:function(){o({type:C}),r.filterByAuthor&&o({type:T}),o({type:k})},fetchQuote:_,resetFilters:function(){o({type:B}),o({type:k})}}),children:t})},_=function(){return Object(a.useContext)(q)},w=n(8),F=n(10),I=n(11),R=function(){var e=_(),t=e.quote,n=e.fetchQuote,a=e.openSidebar;return Object(E.jsxs)("section",{id:"quote-box",children:[Object(E.jsxs)("figure",{children:[Object(E.jsx)("blockquote",{className:"blockquote text-center",children:Object(E.jsx)("span",{id:"text",children:t.content})}),Object(E.jsx)("figcaption",{id:"author",className:"blockquote-footer text-end",children:t.author})]}),Object(E.jsxs)(F.a,{className:"d-flex justify-content-start",children:[Object(E.jsx)(w.a,{className:"secondary-btn",onClick:a,children:Object(E.jsx)(I.b,{})}),Object(E.jsx)(w.a,{id:"tweet-quote",className:"secondary-btn",href:"https://twitter.com/intent/tweet?hashtags=quotes&related=freecodecamp&text="+encodeURIComponent('"'+t.content+'" '+t.author),target:"_blank",children:Object(E.jsx)(I.c,{})})]}),Object(E.jsx)(w.a,{id:"new-quote",onClick:n,children:"New Quote"})]})},G=n(7),L=function(){var e=_(),t=e.authors,n=e.selectedAuthor,c=e.handleSelectedAuthorChange,r=e.filterByAuthor,o=e.toggleFilterByAuthor,s=Object(a.useState)("A"),u=Object(h.a)(s,2),i=u[0],l=u[1];return Object(E.jsxs)(G.a,{children:[Object(E.jsx)(G.a.Check,{checked:r,onChange:o,label:"Filter By Author:",className:"form-switch"}),Object(E.jsx)(G.a.Group,{controlId:"formAlphaSelect",children:Object(E.jsx)(G.a.Control,{as:"select",className:"form-select",onChange:function(e){return l(e.target.value)},disabled:!r,children:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map((function(e,t){return Object(E.jsx)("option",{children:e},t)}))})}),Object(E.jsx)(G.a.Group,{controlId:"formAuthors",children:Object(E.jsx)(G.a.Control,{as:"select",className:"form-select",onChange:function(e){return c(e.target.value)},value:n,disabled:!r,children:t.filter((function(e){return e.name.charAt(0)===i})).map((function(e){var t=e.id,n=e.name;e.quoteCount;return Object(E.jsx)("option",{value:n,children:n},t)}))})})]})},H=function(){var e=_(),t=e.tags,n=e.handleSelectedTagsChange,a=e.filterByTags,c=e.toggleFilterByTags;return Object(E.jsxs)(G.a,{children:[Object(E.jsx)(G.a.Check,{checked:a,onChange:c,label:"Filter By Tags:",className:"form-switch"}),Object(E.jsx)(G.a.Group,{controlId:"formTags",children:t.map((function(e){var t=e.id,c=e.name;return Object(E.jsx)(G.a.Check,{id:t,type:"checkbox",label:c,checked:e.checked,onChange:function(e){return n(e.target.id)},disabled:!a},t)}))})]})},D=function(){var e=_(),t=e.sideBarHidden,n=e.closeSidebar,a=e.resetFilters,c=e.quoteCount;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"".concat(t?"modal-blur":"modal-blur show-modal-blur")}),Object(E.jsxs)("aside",{className:"".concat(t?"sidebar":"sidebar show-sidebar"),children:[Object(E.jsx)("h2",{className:"sidebar-header",children:"Filters"}),Object(E.jsx)(L,{}),Object(E.jsx)("h3",{children:"Or"}),Object(E.jsx)(H,{}),Object(E.jsxs)("h3",{className:"text-center",children:["Matching Quotes: ",c," "]}),Object(E.jsxs)(F.a,{className:"d-flex justify-content-around filter-controls-container",children:[Object(E.jsx)(w.a,{className:"secondary-btn",onClick:a,children:Object(E.jsx)(I.d,{})}),Object(E.jsx)(w.a,{className:"secondary-btn",onClick:n,children:Object(E.jsx)(I.a,{})})]})]})]})},U=n(23),P=n(15);var Q=function(){return Object(E.jsxs)("main",{children:[Object(E.jsx)("div",{className:"background"}),Object(E.jsx)(F.a,{className:"full-height",children:Object(E.jsx)(U.a,{className:"d-flex full-height justify-content-center align-items-center",children:Object(E.jsx)(P.a,{xxl:5,xl:6,lg:6,md:7,sm:8,xs:9,className:"align-self-center",children:Object(E.jsx)(R,{})})})}),Object(E.jsx)(D,{})]})};n(33);o.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(N,{children:Object(E.jsx)(Q,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.d8759cb5.chunk.js.map